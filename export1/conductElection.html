<!DOCTYPE html>
<html lang="en">

<head>
    <script type="text/javascript" src="node_modules/web3/dist/web3.min.js"></script>
    <script type="text/javascript" src="src/utils.js"></script>
    <script type="text/javascript" src="src/app.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>DApp</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alfa+Slab+One">
    <link rel="stylesheet" href="assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="assets/css/Login-Form-Dark.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body>
    <section class="login-dark">
        <nav class="navbar navbar-light navbar-expand-md">
            <div class="container-fluid"><a class="navbar-brand link-light" href="#" style="color: var(--bs-yellow);font-family: 'Alfa Slab One', serif;">&nbsp; NFT AUCTION</a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navcol-1">
                    <ul class="navbar-nav">
                        <li class="nav-item"><a class="nav-link active" href="/conductElection" style="font-family: 'Alfa Slab One', serif;color: var(--bs-yellow);">Conduct Election</a></li>
                        <li class="nav-item"><a class="nav-link" href="/generateVoteKey" style="color: var(--bs-yellow);font-family: 'Alfa Slab One', serif;">Generate Vote Key</a></li>
                        <li class="nav-item"><a class="nav-link" href="/submitVote" style="font-family: 'Alfa Slab One', serif;color: var(--bs-yellow);">Submit Vote</a></li>
                        <li class="nav-item"></li>
                    </ul>
                </div>
            </div>
        </nav>
        <form method="post" id="conductElectionForm">
            <h2 class="visually-hidden">Election Form</h2>
            <div class="illustration"><i class="icon ion-ios-locked-outline"></i></div>
            <div class="mb-3"></div>
            <div class="mb-3">
                <input class="form-control" type="text" name="electionName" placeholder="Election Name" id="name">
                <input class="form-control" type="text" placeholder="Candidate A" name="candidateA" id="candidateA">
                <input class="form-control" type="text" placeholder="Candidate B" name="candidateB" id="candidateB"></div>
            <div class="mb-3"><button class="btn btn-outline-secondary d-block w-100" type="submit" onclick="conductElection(name.value, candidateA.value, candidateB.value)">&nbsp;Conduct Election</button></div><a class="forgot" href="#">Rayyan Jafri</a>
        </form>
    </section>
    <transactionResult></transactionResult>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script>
    
    //@TODO: add this into utils.js, link utils directly in scrip tag
    
    if(typeof web3 !== 'undefined') {
        web3 = new Web3(web3.currentProvider);
    } else {
        web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:7545'));
    }
    web3.eth.defaultAccount = web3.eth.accounts[0]; //Assign first account 

    var contractAbi // = JSON text for Election Contract;
    var contractAddress // = '' Address where Election is deployed;

    var electionContract = web3.eth.contract(contractAbi).at(contractAddress);
    </script>
    <script type = "text/javascript" src = "src/app.js"></script>
</body>

</html>